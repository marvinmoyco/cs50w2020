{% extends "network/layout.html" %}

{% block body %}
    <div id="new_post" class="container-fluid">
        {% if user.is_authenticated %}
            {% if isContentEmpty %}
            <div class="alert alert-danger alert-dismissible d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"/></svg>
                <div>
                  Error: Post content should not be empty.
                </div>
              </div>

            {% endif %}
            <form id="new_post_form" action="{% url 'news_feed' %}" method="POST">
                {% csrf_token %}
                <h2> New Post</h2>
                <div class="form-group">
                    <input class="form-control" type="textarea" id="post_body" name="post_content" placeholder="What's on your mind?">
                </div>
                <button  id="form_submit" type="submit" class="btn btn-primary">Post</button>
               
            </form>
            <hr>
        {% endif %}
    </div>

    <div id="all_post">
        <h2>News Feed</h2>
    </div>
{% endblock %}

